---
title: 09-DeepSeekææ•ˆï¼šç”»å›¾&ç”Ÿæˆsql&ç”Ÿæˆjavaä»£ç 
date: 2025-03-03 21:02:43
index_img: https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250206172444.png
tags:
- ç¬¬ä¸‰æ–¹
- OpenAI
- Deepseek
categories: 
- 13_ç¬¬ä¸‰æ–¹
- 03_OpenAI
---



å‚è€ƒèµ„æ–™ï¼š

* åœ¨çº¿é˜…è¯»ï¼ˆæ¥è‡ªæ¸…åå¤§å­¦ç¬¬äºŒç‰ˆï¼‰ï¼š[DeepSeekå¦‚ä½•èµ‹èƒ½èŒåœºåº”ç”¨-36é¡µ.pdf](http://jy-imgs.oss-cn-beijing.aliyuncs.com/pdf/%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E7%AC%AC%E4%BA%8C%E7%89%88%E3%80%8ADeepSeek%E5%A6%82%E4%BD%95%E8%B5%8B%E8%83%BD%E8%81%8C%E5%9C%BA%E5%BA%94%E7%94%A8%E3%80%8B.pdf)
* å¯ç”¨çš„å…è´¹æ»¡è¡€DeepSeekå¤§æ¨¡å‹ï¼ˆ2025-03ï¼‰ï¼š[å®˜ç½‘](https://chat.deepseek.com/)ã€[360çš„çº³ç±³AI](https://bot.n.cn/)ã€[è…¾è®¯å…ƒå®](https://yuanbao.tencent.com/)ã€[ç§˜å¡”AI](https://metaso.cn/)



## 1. DeepSeek æ¨¡å‹ç‰¹ç‚¹

* åŸºç¡€æ¨¡å‹ï¼ˆV3ï¼‰ï¼šâ€œè¿‡ç¨‹-ç»“æœâ€æ¸…æ™°ï¼ˆæŒ‡ä»¤ï¼‰
* æ·±åº¦æ€è€ƒï¼ˆR1ï¼‰ï¼šç›®æ ‡æ¸…æ™°ï¼Œç»“æœå¯ä»¥æ¨¡ç³Šï¼ˆæ¨ç†ï¼‰

ã€è”ç½‘æœç´¢ã€‘å¯ä»¥æ ¹æ®å®æ—¶æŸ¥è¯¢åˆ°çš„ç½‘ç»œæ•°æ®è¿›è¡Œè¿›ä¸€æ­¥åˆ†ææ€»ç»“ç»“æœæˆ–æ¨ç†ç›®æ ‡ã€‚â€”â€”`å¿…é€‰`

![image-20250227144533533](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227144534.png)

> PSï¼šç»å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼ŒV3 å°±å¤Ÿç”¨ï¼ˆå³æ— éœ€å‹¾é€‰æ·±åº¦æ€è€ƒ-R1æ¨¡å‹ï¼‰ã€‚
>
> ç›®å‰é€šè¿‡ç½‘é¡µæˆ–APPä¼šè¯è¿›è¡Œä»£ç ç”Ÿæˆï¼Œç­‰ä»·äºæ‰‹åŠ¨é©¾é©¶ï¼ˆä¼˜å…ˆè¦ä¼šçš„ï¼‰ã€‚
>
> é€šè¿‡Cursoræˆ–ä»¥åè¯ç”Ÿçš„æ›´å¼ºå¤§çš„å…¨è‡ªåŠ¨é¡¹ç›®ä»£ç ç”Ÿæˆå·¥å…·ï¼Œç­‰ä»·äºå…¨è‡ªåŠ¨é©¾é©¶ï¼ˆå¯èƒ½ä¼šå¾ˆå¿«ï¼‰ã€‚

## 2. ç”»å›¾

### 2.1 æµç¨‹å›¾

![image-20250227100655118](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227100657.png)



### 2.2 ç”˜ç‰¹å›¾

![image-20250227100737783](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227100738.png)



### 2.3 æµ·æŠ¥

![image-20250227100919668](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227100921.png)



`å³æ¢¦AI`ï¼š

![image-20250227100935051](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227100936.png)



### 2.4 è§†é¢‘

![image-20250227101149178](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227101153.png)



## 3. ç”Ÿæˆsql

#### 3.1 è¡¨è®¾è®¡

prompt-ç»™å­—æ®µï¼š

> è®¾è®¡ä¸€å¼ MySQL 5.7ä¸­çš„é«˜è€ƒåˆ†æ•°è¡¨ï¼Œè¾“å‡ºå»ºè¡¨è¯­å¥ï¼ŒåŒ…æ‹¬å­¦å·ï¼Œå§“åï¼Œæ€»åˆ†ï¼ˆåŒ…æ‹¬å°æ•°ç‚¹åä¸€ä½ï¼‰ï¼Œè®°å½•å†™å…¥æ—¶é—´å’Œæ›´æ–°æ—¶é—´ï¼Œæœ‰å•è‡ªå¢ä¸»é”®ï¼Œä¸è¦å¤–é”®çº¦æŸã€‚

å‚è€ƒç»“æœï¼š

```sql
CREATE TABLE gaokao_score (
    id INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'è‡ªå¢ä¸»é”®',
    student_id VARCHAR(18) NOT NULL COMMENT 'å­¦å·(18ä½æ•°å­—)',
    student_name VARCHAR(30) NOT NULL COMMENT 'å­¦ç”Ÿå§“å',
    total_score DECIMAL(5,1) NOT NULL COMMENT 'æ€»åˆ†(æ ¼å¼999.9)',
    create_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'è®°å½•å†™å…¥æ—¶é—´',
    update_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æœ€åæ›´æ–°æ—¶é—´',
    PRIMARY KEY (id),
    UNIQUE KEY idx_student_id (student_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
```

prompt-ç»™æ–¹å‘ï¼š

> æ ¹æ®å¾®åšçš„è¯„è®ºç³»ç»Ÿè¿›è¡Œè®¾è®¡ä¸€å¼ åŸºäºæ•°æ®åº“MySQL 5.7çš„è¡¨ï¼Œä¸è¦å¤–é”®çº¦æŸï¼Œè¾“å‡ºå»ºè¡¨sqlè¯­å¥ã€‚

å‚è€ƒç»“æœï¼š

```sql
CREATE TABLE comment_metadata (
    comment_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'è¯„è®ºID(å®é™…é«˜å¹¶å‘ä¸šåŠ¡å»ºè®®ä½¿ç”¨é›ªèŠ±ç®—æ³•ç”Ÿæˆ)',
    post_id BIGINT UNSIGNED NOT NULL COMMENT 'å¾®åšID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT 'è¯„è®ºç”¨æˆ·ID',
    parent_id BIGINT UNSIGNED DEFAULT 0 COMMENT 'çˆ¶è¯„è®ºID(0è¡¨ç¤ºæ ¹è¯„è®º)',
    root_id BIGINT UNSIGNED DEFAULT 0 COMMENT 'æ ¹è¯„è®ºID(ç”¨äºæ„å»ºè¯„è®ºæ ‘)',
    content TEXT NOT NULL COMMENT 'è¯„è®ºå†…å®¹(åŠ å¯†å­˜å‚¨)',
    like_count INT UNSIGNED DEFAULT 0 COMMENT 'ç‚¹èµæ•°(å¼‚æ­¥æ›´æ–°)',
    reply_count INT UNSIGNED DEFAULT 0 COMMENT 'å›å¤æ•°(å¼‚æ­¥æ›´æ–°)',
    status TINYINT UNSIGNED DEFAULT 1 COMMENT 'çŠ¶æ€(0-åˆ é™¤ 1-æ­£å¸¸ 2-å®¡æ ¸ä¸­)',
    create_time DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'åˆ›å»ºæ—¶é—´(ç²¾ç¡®åˆ°æ¯«ç§’)',
    update_time DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT 'æ›´æ–°æ—¶é—´',
    is_hot TINYINT(1) GENERATED ALWAYS AS (like_count > 1000) VIRTUAL COMMENT 'æ˜¯å¦çƒ­è¯„',
    PRIMARY KEY (comment_id),
    KEY idx_post_ctime (post_id, create_time) USING BTREE,
    KEY idx_user_post (user_id, post_id) USING BTREE,
    KEY idx_parent (parent_id) USING BTREE,
    KEY idx_root (root_id) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```



#### 3.2 å†™æµ‹è¯•æ•°æ®

> è¡¨ç»“æ„å¦‚ä¸‹ï¼š
>
> ```sql
> CREATE TABLE student_score (
>    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
>    name VARCHAR(50) NOT NULL,
>    score DECIMAL(5,1) NOT NULL,
>    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
>    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
> );
> ```
>
> å¾€ä¸Šé¢çš„è¡¨å†™å…¥5æ¡æµ‹è¯•æ•°æ®ï¼Œæ”¾åœ¨ä¸€æ¡SQLè¯­å¥ä¸­ï¼Œæ€»åˆ†750ï¼Œåˆ†æ•°500åˆ°700ä¹‹é—´ï¼Œç»™åˆ°å…·ä½“åˆ†æ•°ã€‚
å‚è€ƒç»“æœï¼š

```sql
INSERT INTO student_score (name, score) VALUES 
('ææ˜', 652.5),
('ç‹èŠ³', 587.0), 
('å¼ ä¼Ÿ', 703.9),
('èµµé™', 521.5),
('é™ˆæ¶›', 685.1);
```

```sql
SELECT SUM(score) AS total, AVG(score) AS average FROM student_score;
/* è¾“å‡ºç¤ºä¾‹(å› RANDå‡½æ•°åŠ¨æ€å€¼ä¼šæœ‰æµ®åŠ¨)ï¼š
total   | average 
3149.0  | 629.8 
*/
```



#### 3.3 SQLè¯­å¥ç”Ÿæˆ

> è¡¨ç»“æ„å¦‚ä¸‹ï¼š
>
> ```sql
> CREATE TABLE student_score (
>    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
>    name VARCHAR(50) NOT NULL,
>    score DECIMAL(5,1) NOT NULL,
>    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
>    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
> );
> ```
>
> æŸ¥è¯¢åˆ†æ•°å¤§äº600çš„å­¦ç”Ÿå§“åã€‚

å‚è€ƒç»“æœï¼š

```sql
-- åŸºç¡€æŸ¥è¯¢è¯­å¥ 
SELECT name FROM student_score 
WHERE score > 600.0 
ORDER BY score DESC;
```



#### 3.4 å†™è„šæœ¬

> ip.txtä¸­ï¼Œæ¯ä¸€è¡Œå­˜æ”¾MySQLçš„IPåœ°å€ã€ç”¨æˆ·åå’Œå¯†ç ï¼Œå½¢å¼å¦‚ä¸‹ï¼Œè¯·ç¼–å†™ä¸€ä¸ªshellè„šæœ¬ï¼ŒæŸ¥çœ‹æ¯ä¸ªæ•°æ®åº“å½“å‰çš„æ´»è·ƒè¿æ¥æ•°ã€‚
>
> ```txt
> 192.168.12.161,read_only,xxxxxx
> 192.168.12.162,read_only,xxxxxx
> ```

å‚è€ƒç»“æœï¼š

```bash
#!/bin/bash 
# MySQLæ´»è·ƒè¿æ¥æ•°æ£€æŸ¥è„šæœ¬ 
# æ‰§è¡Œæ—¶é—´ï¼š2025-02-27 10:38:00 
 
log_file="connection_$(date +%Y%m%d%H%M%S).log"
 
echo "========== æ•°æ®åº“è¿æ¥æ£€æŸ¥æŠ¥å‘Š ==========" | tee -a $log_file 
printf "%-18s %-8s %-8s\n" "IPåœ°å€" "è¿æ¥æ•°" "çŠ¶æ€" | tee -a $log_file 
 
while IFS= read -r line || [[ -n "$line" ]]; do 
    # å®‰å…¨è§£æè¾“å…¥è¡Œï¼ˆå…¼å®¹å«ç‰¹æ®Šå­—ç¬¦å¯†ç ï¼‰
    eval $(awk '{print "ip="$1"; user="$2"; pwd="$3}' <<< "$line")
    
    # è·å–è¿æ¥æ•°ï¼ˆè®¾ç½®5ç§’è¶…æ—¶ï¼‰
    conn_count=$(mysql -h$ip -u$user -p$pwd --connect-timeout=5 -sNe \
        "SHOW GLOBAL STATUS LIKE 'Threads_connected';" 2>/dev/null | awk '{print $2}')
    
    # ç»“æœçŠ¶æ€åˆ¤æ–­ 
    if [[ $conn_count =~ ^[0-9]+$ ]]; then 
        status="\033[32mæ­£å¸¸\033[0m"
    else 
        conn_count="N/A"
        status="\033[31må¤±è´¥\033[0m"
    fi 
    
    # æ ¼å¼åŒ–è¾“å‡ºï¼ˆå…¼å®¹ä¸­æ–‡ç¯å¢ƒï¼‰
    printf "%-18s %-8s %b\n" $ip ${conn_count} $status | tee -a $log_file 
done < ip.txt  
 
echo -e "\næ£€æŸ¥å®Œæˆï¼Œæ—¥å¿—å·²ä¿å­˜è‡³ï¼š$log_file"
```



#### 3.5 å……å½“SQLè€ƒå®˜

> æ¥ä¸‹æ¥ï¼Œä½ æ¥å¸®æˆ‘ç»ƒä¹ ä¸€ä¸‹MySQLçš„SQLè¯­å¥ï¼Œæ¯æ¬¡ç»™æˆ‘å‡ºä¸€é“é¢˜ï¼Œè®©æˆ‘å†™å‡ºSQLè¯­å¥ï¼Œæˆ‘å›ç­”å‘Šè¯‰æˆ‘æ­£ç¡®è¿˜æ˜¯é”™è¯¯ï¼Œå¦‚æœé”™è¯¯ï¼Œå‘Šè¯‰æˆ‘æ­£ç¡®ç­”æ¡ˆï¼Œç„¶åå†å‡ºä¸€é“æ–°çš„ã€‚

å‚è€ƒç»“æœï¼š

```
ğŸ“ ç¬¬1é¢˜ï¼šåŸºç¡€æŸ¥è¯¢
åœºæ™¯ï¼šæŸå­¦æ ¡æ•°æ®åº“ä¸­æœ‰ students è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

id INTï¼ˆå­¦ç”ŸIDï¼‰
name VARCHAR(50)ï¼ˆå§“åï¼‰
class VARCHAR(20)ï¼ˆç­çº§ï¼‰
score DECIMAL(5,1)ï¼ˆåˆ†æ•°ï¼‰
é—®é¢˜ï¼šæŸ¥è¯¢ ç­çº§ä¸ºã€Œé«˜ä¸‰ï¼ˆ2ï¼‰ç­ã€ä¸”åˆ†æ•°å¤§äº80åˆ† çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—ã€‚

è¯·å†™å‡ºä½ çš„SQLè¯­å¥ï¼ˆæ— éœ€åˆ†å·ï¼‰ï¼š

âœ… ç”¨æˆ·å›å¤åï¼Œæˆ‘å°†æä¾›ï¼š

æ­£ç¡®æ€§åˆ¤æ–­ä¸é”™è¯¯åˆ†æ
å‚è€ƒç­”æ¡ˆï¼ˆå«ç´¢å¼•ä¼˜åŒ–å»ºè®®ï¼‰
ä¸‹ä¸€é¢˜ï¼ˆéš¾åº¦é€’å¢ï¼‰
è¯·å¼€å§‹ä½œç­”ï¼
```



> select name, score from students
> where class = "é«˜ä¸‰ï¼ˆ2ï¼‰ç­"
> and score > 80
> order by score desc

```
âœ… å›ç­”æ­£ç¡®æ€§éªŒè¯
æ‚¨çš„SQLè¯­å¥ï¼š
SELECT name, score FROM students  
WHERE class = "é«˜ä¸‰ï¼ˆ2ï¼‰ç­"  
AND score > 80  
ORDER BY score DESC  
åˆ¤å®šç»“æœï¼š

è¯­æ³•æ­£ç¡®ï¼Œä½†å­˜åœ¨ 2é¡¹ä¼˜åŒ–å»ºè®®

ğŸ›  æ”¹è¿›å»ºè®®ä¸æ·±åº¦åˆ†æ
å­—ç¬¦ä¸²å¼•å·è§„èŒƒ
	é—®é¢˜ï¼šMySQLå®˜æ–¹æ¨èä½¿ç”¨å•å¼•å·(')åŒ…è£¹å­—ç¬¦ä¸²ï¼ŒåŒå¼•å·å¯èƒ½å¯¼è‡´æŸäº›é…ç½®ä¸‹è§£æå¼‚å¸¸
	ä¿®æ­£ï¼šWHERE class = 'é«˜ä¸‰ï¼ˆ2ï¼‰ç­'
ç´¢å¼•ä¼˜åŒ–ç­–ç•¥
	ç°çŠ¶ï¼šå…¨è¡¨æ‰«ææ•ˆç‡ä½ï¼ˆå‡è®¾æ•°æ®é‡è¶…è¿‡10ä¸‡è¡Œï¼‰
	ä¼˜åŒ–æ–¹æ¡ˆï¼šæ·»åŠ å¤åˆç´¢å¼•åŠ é€ŸæŸ¥è¯¢
```



#### 3.6 åˆ›å»ºç”¨æˆ·å’Œèµ‹æƒ

> MySQL 5.7ï¼Œåˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·åæ˜¯rw_userï¼Œhostæ˜¯%ï¼Œæƒé™æ˜¯å¯¹æ‰€æœ‰åº“éƒ½æœ‰å¢åˆ æŸ¥æ”¹å››ä¸ªæƒé™ï¼Œå¸®æˆ‘å†™æˆSQLè¯­å¥ã€‚

å‚è€ƒç»“æœï¼š

```sql
-- ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç”¨æˆ·ï¼ˆéœ€rootæƒé™ï¼‰  
CREATE USER 'rw_user'@'%' IDENTIFIED BY 'StrongPassword123!';  
 
-- ç¬¬äºŒæ­¥ï¼šæˆäºˆå¢åˆ æŸ¥æ”¹æƒé™  
GRANT SELECT, INSERT, UPDATE, DELETE ON *.* TO 'rw_user'@'%';  
 
-- ç¬¬ä¸‰æ­¥ï¼šåˆ·æ–°æƒé™  
FLUSH PRIVILEGES;  
```



#### 3.7 ç”¨æˆ·æƒé™å›æ”¶

> MySQL 5.7ï¼Œå›æ”¶ç”¨æˆ·rw_user@'%' å¯¹æ‰€æœ‰åº“çš„deleteæƒé™ã€‚

å‚è€ƒç»“æœï¼š

```sql
-- æ’¤é”€DELETEæƒé™ï¼ˆéœ€SUPERæƒé™ï¼‰  
REVOKE DELETE ON *.* FROM 'rw_user'@'%';  
 
-- åˆ·æ–°æƒé™ç¼“å­˜  
FLUSH PRIVILEGES;  
```



#### 3.8 æ„é€ æƒé™æŸ¥è¯¢è¯­å¥

> MySQL 5.7ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æ„é€ ä¸€æ¡show grants for 'user_name'@'host' çš„è¯­å¥ã€‚

å‚è€ƒç»“æœï¼š

```sql
SELECT CONCAT('SHOW GRANTS FOR \'', User, '\'@\'', Host, '\';') AS grant_query  
FROM mysql.user   
WHERE User NOT IN ('mysql.sys','mysql.session','mysql.infoschema')   
ORDER BY User, Host;  
```



## 4. ç”Ÿæˆä»£ç 

![image-20250227140356717](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227140358.png)

![image-20250227140419499](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20250227140421.png)

> ä½ æ˜¯ä¸€ä½èµ„æ·±çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæ¥æ ¹æ®æˆ‘çš„äº§å“éœ€æ±‚æ„å»ºæˆ‘æ‰€éœ€è¦çš„å‰ç«¯ï¼ˆvueï¼‰æˆ–åç«¯ï¼ˆjavaï¼‰ä»£ç å®ä¾‹ï¼Œéœ€è¦çœŸå®å¯è¿è¡Œï¼Œæ²¡æœ‰ä»»ä½•bugå’Œç¼ºé™·ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šç»™ä½ éœ€æ±‚ï¼Œä½ åªéœ€è¦æŒ‰ç…§æˆ‘çš„éœ€æ±‚ç”Ÿæˆé¡µé¢ä»£ç æˆ–æ¥å£é€»è¾‘ä»£ç ã€‚

å‚è€ƒç»“æœï¼š

```
æˆ‘å‡†å¤‡å¥½æ ¹æ®æ‚¨çš„éœ€æ±‚ç”Ÿæˆå¯è¿è¡Œçš„ä»£ç ã€‚è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥å¸®åŠ©æˆ‘æ›´ç²¾å‡†åœ°å®ç°æ‚¨çš„éœ€æ±‚ï¼š

åŠŸèƒ½åœºæ™¯ï¼ˆä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•é¡µé¢/å•†å“ç®¡ç†æ¥å£/æ•°æ®å¯è§†åŒ–é¢æ¿ç­‰ï¼‰
æŠ€æœ¯æ ˆåå¥½ï¼ˆä¾‹å¦‚ï¼šVue3ç»„åˆå¼API/Spring Boot 3.x/Element Plusç­‰ï¼‰
æ ¸å¿ƒäº¤äº’é€»è¾‘ï¼ˆä¾‹å¦‚ï¼šè¡¨å•éªŒè¯è§„åˆ™/æ¥å£é‰´æƒæ–¹å¼/æ•°æ®å…³è”å…³ç³»ç­‰ï¼‰
ç‰¹æ®Šè¦æ±‚ï¼ˆä¾‹å¦‚ï¼šç¬¬ä¸‰æ–¹APIé›†æˆ/WebSocketå®æ—¶é€šä¿¡/æ€§èƒ½ä¼˜åŒ–æŒ‡æ ‡ç­‰ï¼‰
æ‚¨å¯ä»¥é€šè¿‡è¿™æ ·çš„æ¨¡æ¿æäº¤éœ€æ±‚ï¼š

éœ€æ±‚ç±»å‹ï¼š[å‰ç«¯é¡µé¢/åç«¯æ¥å£] åŠŸèƒ½æè¿°ï¼šéœ€è¦å®ç°ä¸€ä¸ªå¸¦æœ‰å®æ—¶æœç´¢åŠŸèƒ½çš„ç”¨æˆ·åˆ—è¡¨é¡µé¢ æŠ€æœ¯è¦æ±‚ï¼š

Vue3 + TypeScript
ä½¿ç”¨Element Plusè¡¨æ ¼ç»„ä»¶
é˜²æŠ–æœç´¢è¯·æ±‚
åˆ†é¡µåŠ è½½æ•°æ®
æ¥å£é”™è¯¯å…¨å±€æ•è· é¢„æœŸäº¤äº’ï¼šç”¨æˆ·è¾“å…¥æœç´¢è¯500msåè‡ªåŠ¨è§¦å‘è¯·æ±‚ï¼Œåˆ†é¡µå™¨ä¸æœç´¢æ¡ä»¶è”åŠ¨
æˆ‘å°†æ ¹æ®æ‚¨æä¾›çš„è¯¦ç»†éœ€æ±‚ï¼Œç”Ÿæˆä»¥ä¸‹å®Œæ•´äº¤ä»˜ç‰©ï¼š

ç»„ä»¶/æ¥å£å®Œæ•´ä»£ç ï¼ˆå«æ³¨é‡Šï¼‰
ç›¸å…³é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆvue-router/axios/spring securityç­‰ï¼‰
å•å…ƒæµ‹è¯•ä»£ç ç¤ºä¾‹
éƒ¨ç½²è¿è¡ŒæŒ‡å—
æ€§èƒ½ä¼˜åŒ–å»ºè®®
```

è¿½é—®ï¼š

> ç”Ÿæˆä¸€ä¸ªåå«äº’åŠ¨ç­”ç–‘çš„é¡µé¢ä»£ç å’Œjavaæ¥å£ä»£ç ï¼Œè¯¥é¡µé¢çš„åŠŸèƒ½ä¸å¾®åšçš„è¯„è®ºåŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼Œå…·ä½“åŠŸèƒ½åŒ…å«ç”¨æˆ·å¯ä»¥ç‚¹å‡»æé—®æŒ‰é’®ï¼Œå¼¹çª—å¡«å†™æé—®çš„å†…å®¹å’Œä¸Šä¼ å›¾ç‰‡ï¼›å…¶ä»–ç”¨æˆ·å¯ä»¥å¯¹è¯¥ç”¨æˆ·çš„æé—®å†…å®¹è¿›è¡Œå›å¤ã€ç‚¹èµã€åˆ†äº«ç­‰æ“ä½œï¼›è¯¥é¡µé¢æœ€å¤šæ”¯æŒ2çº§çš„é—®ç­”å±•ç¤ºã€‚

```html
<template>
  <div class="interaction-container">
    <!-- æé—®æŒ‰é’® -->
    <el-button type="primary" @click="showQuestionDialog">å‘èµ·æé—®</el-button>
 
    <!-- æé—®å¼¹çª— -->
    <el-dialog v-model="dialogVisible" title="å‘èµ·æé—®" width="600px">
      <el-form :model="questionForm" :rules="rules" ref="formRef">
        <el-form-item label="é—®é¢˜å†…å®¹" prop="content">
          <el-input 
            v-model="questionForm.content" 
            type="textarea"
            :rows="4"
            placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ï¼ˆæœ€å¤š500å­—ï¼‰"
            maxlength="500"
            show-word-limit 
          />
        </el-form-item>
        <el-form-item label="ä¸Šä¼ å›¾ç‰‡">
          <el-upload 
            action="/api/upload"
            list-type="picture-card"
            :on-success="handleUploadSuccess"
            :before-upload="beforeUpload"
            :file-list="fileList"
          >
            <el-icon><Plus /></el-icon>
          </el-upload>
        </el-form-item>
      </el-form>
      <template #footer>
        <el-button @click="dialogVisible = false">å–æ¶ˆ</el-button>
        <el-button type="primary" @click="submitQuestion">æäº¤</el-button>
      </template>
    </el-dialog>
 
    <!-- é—®ç­”åˆ—è¡¨ -->
    <div class="qa-list">
      <div v-for="question in questionList" :key="question.id"  class="qa-item">
        <!-- ä¸»é—®é¢˜ -->
        <div class="main-question">
          <div class="content">{{ question.content  }}</div>
          <div class="media" v-if="question.images"> 
            <img 
              v-for="(img, index) in question.images"  
              :key="index"
              :src="img"
              class="question-image"
            />
          </div>
          <div class="actions">
            <el-button text @click="showReplyDialog(question.id,  'question')">
              <el-icon><Comment /></el-icon> {{ question.replyCount  }}
            </el-button>
            <el-button text @click="handleLike(question.id,  'question')">
              <el-icon><Goods /></el-icon> {{ question.likeCount  }}
            </el-button>
            <el-button text @click="handleShare(question)">
              <el-icon><Share /></el-icon>
            </el-button>
          </div>
        </div>
 
        <!-- äºŒçº§å›å¤ -->
        <div class="sub-replies" v-if="question.replies"> 
          <div v-for="reply in question.replies"  :key="reply.id"  class="reply-item">
            <div class="content">{{ reply.content  }}</div>
            <div class="actions">
              <el-button text @click="showReplyDialog(reply.id,  'reply')">å›å¤</el-button>
              <el-button text @click="handleLike(reply.id,  'reply')">
                <el-icon><Goods /></el-icon> {{ reply.likeCount  }}
              </el-button>
            </div>
          </div>
        </div>
      </div>
    </div>
 
    <!-- å›å¤å¼¹çª— -->
    <ReplyDialog 
      v-model="replyVisible"
      :targetId="currentTargetId"
      :type="replyType"
      @submit-success="handleReplySuccess"
    />
  </div>
</template>
 
<script setup lang="ts">
import { ref, reactive, onMounted } from 'vue'
import { ElMessage } from 'element-plus'
import ReplyDialog from './ReplyDialog.vue' 
 
// é—®é¢˜æ•°æ®ç»“æ„ 
interface Question {
  id: number 
  content: string 
  images: string[]
  likeCount: number 
  replyCount: number 
  replies: Reply[]
}
 
interface Reply {
  id: number 
  content: string 
  likeCount: number 
}
 
// ç»„ä»¶é€»è¾‘ 
const dialogVisible = ref(false)
const replyVisible = ref(false)
const currentTargetId = ref<number>()
const replyType = ref<'question' | 'reply'>('question')
 
const questionForm = reactive({
  content: '',
  images: [] as string[]
})
 
const questionList = ref<Question[]>([])
 
const rules = {
  content: [
    { required: true, message: 'è¯·è¾“å…¥é—®é¢˜å†…å®¹', trigger: 'blur' },
    { max: 500, message: 'é•¿åº¦ä¸è¶…è¿‡500ä¸ªå­—ç¬¦', trigger: 'blur' }
  ]
}
 
// åŠ è½½é—®é¢˜åˆ—è¡¨ 
const loadQuestions = async () => {
  try {
    const res = await axios.get('/api/questions') 
    questionList.value  = res.data.data  
  } catch (err) {
    ElMessage.error(' åŠ è½½å¤±è´¥')
  }
}
 
// æäº¤é—®é¢˜ 
const submitQuestion = async () => {
  try {
    await axios.post('/api/questions',  questionForm)
    dialogVisible.value  = false 
    loadQuestions()
  } catch (err) {
    ElMessage.error(' æäº¤å¤±è´¥')
  }
}
 
// ç‚¹èµå¤„ç† 
const handleLike = async (targetId: number, type: 'question' | 'reply') => {
  try {
    await axios.post(`/api/like/${type}/${targetId}`) 
    loadQuestions()
  } catch (err) {
    ElMessage.error(' æ“ä½œå¤±è´¥')
  }
}
 
onMounted(() => {
  loadQuestions()
})
</script>
 
<style scoped>
.interaction-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}
 
.qa-item {
  margin: 20px 0;
  padding: 15px;
  border: 1px solid #eee;
  border-radius: 4px;
}
 
.sub-replies {
  margin-left: 40px;
  border-left: 2px solid #eee;
  padding-left: 20px;
}
 
.question-image {
  max-width: 200px;
  margin: 10px;
}
</style>
```

```java
// QuestionController.java  
@RestController 
@RequestMapping("/api/questions")
public class QuestionController {
 
    @Autowired 
    private QuestionService questionService;
 
    @PostMapping 
    public ResultVO<Long> createQuestion(@RequestBody QuestionCreateDTO dto) {
        return ResultVO.success(questionService.createQuestion(dto)); 
    }
 
    @GetMapping 
    public ResultVO<List<QuestionVO>> getQuestions() {
        return ResultVO.success(questionService.getQuestions()); 
    }
}
 
// ReplyController.java  
@RestController 
@RequestMapping("/api/replies")
public class ReplyController {
 
    @Autowired 
    private ReplyService replyService;
 
    @PostMapping 
    public ResultVO<Long> createReply(@RequestBody ReplyCreateDTO dto) {
        return ResultVO.success(replyService.createReply(dto)); 
    }
}
 
// LikeController.java  
@RestController 
@RequestMapping("/api/like")
public class LikeController {
 
    @Autowired 
    private LikeService likeService;
 
    @PostMapping("/{type}/{targetId}")
    public ResultVO<Void> like(
        @PathVariable String type,
        @PathVariable Long targetId 
    ) {
        likeService.handleLike(type,  targetId);
        return ResultVO.success(); 
    }
}
 
// QuestionService.java  
@Service 
public class QuestionService {
 
    @Autowired 
    private QuestionMapper questionMapper;
 
    @Transactional 
    public Long createQuestion(QuestionCreateDTO dto) {
        Question question = new Question();
        BeanUtils.copyProperties(dto,  question);
        question.setCreateTime(new  Date());
        questionMapper.insert(question); 
        return question.getId(); 
    }
 
    public List<QuestionVO> getQuestions() {
        List<Question> questions = questionMapper.selectListWithReplies(); 
        return questions.stream().map(q  -> {
            QuestionVO vo = new QuestionVO();
            BeanUtils.copyProperties(q,  vo);
            vo.setReplies(replyService.getReplies(q.getId(),  2));
            return vo;
        }).collect(Collectors.toList()); 
    }
}
 
// æ•°æ®åº“å®ä½“ 
public class Question {
    private Long id;
    private String content;
    private String images; // JSONå­˜å‚¨å›¾ç‰‡è·¯å¾„ 
    private Integer likeCount;
    private Integer replyCount;
    private Date createTime;
}
 
public class Reply {
    private Long id;
    private Long questionId;
    private Long parentId;
    private String content;
    private Integer likeCount;
    private Date createTime;
}
 
// MyBatis Mapper 
public interface QuestionMapper {
    @Select("SELECT * FROM question ORDER BY create_time DESC")
    @Results({
        @Result(property = "id", column = "id"),
        @Result(property = "replies", column = "id",
                many = @Many(select = "getRepliesByQuestionId"))
    })
    List<Question> selectListWithReplies();
 
    @Select("SELECT * FROM reply WHERE question_id = #{questionId} AND level <= 2")
    List<Reply> getRepliesByQuestionId(Long questionId);
}
```

