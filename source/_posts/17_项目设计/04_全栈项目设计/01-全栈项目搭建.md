---
title: 01-全栈项目搭建
date: 2023-9-28 21:36:21
tags:
- Vue
- SpringBoot
- 全栈
categories: 
- 17_项目设计
- 04_全栈项目设计
---



参考资料：

* 粒子库 particles CSS效果官网：https://particles.js.org/
* 蚂蚁地理空间数据可视化：...



> 技术栈基于：vue3 + vite4 + ElementPlus + SpringBoot + MyBatis + 蚂蚁地理空间数据可视化

## 1. 前端架构搭建

### 1.1 创建项目

vite 创建项目：*npm create vite@4.4.0*

npm 安装依赖：*npm i*

npm 启动项目：*npm run dev*

App.vue

```vue
<template>
  <div>
    app
  </div>
</template>

<script setup>

</script>

<style>
*{
  margin: 0;
  padding: 0;
}
</style>
```

main.js

```js
import { createApp } from 'vue'
// import './style.css'           //注释掉全局默认样式
import App from './App.vue'

createApp(App).mount('#app')
```



### 1.2 目录结构

```txt
public/
src/
  assets/
  components/
  router/
    index.js
  views/
    xxx.vue
  App.vue
  main.js
  style.css
index.html
package-lock.json
package.json
README.md
vite.config.js
```



### 1.3 创建路由

安装路由：*npm i vue-router*

router/index.js - 创建路由并导出

```js
import { createRouter, createWebHashHistory } from 'vue-router'
import Login from '../views/Login.vue'
import MainBox from '../views/MainBox.vue'

const routes = [
    {
        path: '/login',
        name: 'login',
        component: Login
    },
    {
        path: '/mainbox',
        name: 'mainbox',
        component: MainBox
    },
]
const router = createRouter({
    history: createWebHashHistory(),  // 带 # 的路径
    routes
})

export default router
```

项目使用路由 main.js：

```js
import { createApp } from 'vue'
// import './style.css'
import App from './App.vue'
import router from './router'  //导入路由

createApp(App)
    .use(router)  // 使用路由
    .mount('#app')
```

App.vue

```vue
<template>
  <div>
    <!-- 路由容器:路径匹配则自动加载 -->
     <router-view></router-view>
  </div>
</template>
...
```



#### 1.3.1 配置动态路由

router/config.js

```js
import Home from "../views/home/Home.vue";
// 用户管理
import UserList from "../views/user-manage/UserList.vue";
// 权限管理
import RoleList from "../views/right-manage/RoleList.vue";
import RightList from "../views/right-manage/RightList.vue";
// 实验室管理
import LabList from "../views/lab-manage/LabList.vue";
import AddLab from "../views/lab-manage/AddLab.vue";
// 预约管理
import AuditList from "../views/book-manage/AuditList.vue";
import BookList from "../views/book-manage/BookList.vue";
import AddBook from "../views/book-manage/AddBook.vue";

const routes = [
    {
        path: '/index',
        component: Home
    },
    {
        path: '/user-manage/list',
        component: UserList
    },
    {
        path: '/right-manage/rolelist',
        component: RoleList
    },
    {
        path: '/right-manage/rightlist',
        component: RightList
    },
    {
        path: '/lab-manage/lablist',
        component: LabList
    },
    {
        path: '/lab-manage/addlab',
        component: AddLab
    },
    {
        path: '/book-manage/auditlist',
        component: AuditList
    },
    {
        path: '/book-manage/booklist',
        component: BookList
    },
    {
        path: '/book-manage/addbook',
        component: AddBook
    }
]

export default routes
```

router/index.js

```js
import { createRouter, createWebHashHistory } from 'vue-router'
import Login from '../views/Login.vue'
import MainBox from '../views/MainBox.vue'
import RouteConfig from '../router/config'
import { useRouterStore } from '../store/useRouterStore'
import NotFound from '../views/notfound/NotFound.vue'

const routes = [
    {
        path: '/login',
        name: 'login',
        component: Login
    },
    {
        path: '/mainbox',
        name: 'mainbox',
        component: MainBox
    },
]
const router = createRouter({
    history: createWebHashHistory(),  // 带 # 的路径
    routes
})

// 添加路由
// router.addRoute("mainbox", {
//     path: '/index',   // 访问路径 #/index, 但如果是 'index'，则访问路径为 #/mainbox/index
//     component: Home   // Home 作为 mainbox 的孩子
// })

// 路由拦截
router.beforeEach((to, from, next) => {
    const { isGetterRouter } = useRouterStore()

    // 如果跳转是 login 就放行
    if (to.name === 'login') {
        next()
    } else {
        // 未登录授权：如果未登录则跳转的登陆
        if (!localStorage.getItem('token')) {
            next({
                path: '/login'
            })
        } else {
            // 只有第一次进入路由拦截才会进行配置路由 - 引入 pinia 公共状态管理
            if (!isGetterRouter) {
                ConfigRouter()
                next({ path: to.fullPath })  //第一次刚配置路由时不会生效，需要强行往路由上走一次
            } else {
                next()
            }
        }
    }
})

// 在 mainbox 下都写成孩子路由，用数组的方式加入路由
const ConfigRouter = () => {
    const { changeRouter } = useRouterStore()
    RouteConfig.forEach((item) => {
        router.addRoute("mainbox", item)
    })

    // 重定向
    router.addRoute("mainbox", {
        path: '/',
        redirect: '/index'
    })

    // 404
    router.addRoute("mainbox", {
        path: '/:pathMatch(.*)*',
        name: 'not found',
        component: NotFound
    })

    console.log(router.getRoutes()); //当前路由对象下有多少个路由
    changeRouter(true)
}

export default router
```



#### 1.3.2 路由权限匹配

router/index.js

```js
import { createRouter, createWebHashHistory } from 'vue-router'
import Login from '../views/Login.vue'
import MainBox from '../views/MainBox.vue'
import RouteConfig from '../router/config'
import { useRouterStore } from '../store/useRouterStore'
import NotFound from '../views/notfound/NotFound.vue'
import { useUserStore } from '../store/useUserStore'

const routes = [
    {
        path: '/login',
        name: 'login',
        component: Login
    },
    {
        path: '/mainbox',
        name: 'mainbox',
        component: MainBox
    },
]
const router = createRouter({
    history: createWebHashHistory(),  // 带 # 的路径
    routes
})

// 添加路由
// router.addRoute("mainbox", {
//     path: '/index',   // 访问路径 #/index, 但如果是 'index'，则访问路径为 #/mainbox/index
//     component: Home   // Home 作为 mainbox 的孩子
// })

// 路由拦截
router.beforeEach((to, from, next) => {
    const { isGetterRouter } = useRouterStore()
    const { user } = useUserStore()
    // 如果跳转是 login 就放行
    if (to.name === 'login') {
        next()
    } else {
        // 未登录授权：如果未登录则跳转的登陆
        // if (!localStorage.getItem('token')) {
        if (!user.role) {  // 更换为：用持久化 pinia 中的角色对象非空 - 表示登陆了
            next({
                path: '/login'
            })
        } else {
            // 只有第一次进入路由拦截才会进行配置路由 - 引入 pinia 公共状态管理
            if (!isGetterRouter) {
                router.removeRoute("mainbox") //重新登陆时需要将旧的 mianbox 移除掉，确保切换用户时 mainbox 路由始终是空的
                ConfigRouter()
                next({ path: to.fullPath })  //第一次刚配置路由时不会生效，需要强行往路由上走一次
            } else {
                next()
            }
        }
    }
})

// 在 mainbox 下都写成孩子路由，用数组的方式加入路由
const ConfigRouter = () => {
    // 因为路由拦截中移除掉过，所以重新登陆时要加进来
    router.addRoute({
        path: '/mainbox',
        name: 'mainbox',
        component: MainBox
    })
    const { changeRouter } = useRouterStore()
    RouteConfig.forEach((item) => {
        // 判断用户的路由(即菜单)权限，只有包含的情况下才会添加对应权限的路由
        checkPermission(item.path) && router.addRoute("mainbox", item)
    })

    // 重定向
    router.addRoute("mainbox", {
        path: '/',
        redirect: '/index'
    })

    // 404
    router.addRoute("mainbox", {
        path: '/:pathMatch(.*)*',
        name: 'not found',
        component: NotFound
    })

    console.log(router.getRoutes()); //当前路由对象下有多少个路由
    changeRouter(true)
}

// 检查用户路由权限，包含返回 true，不包含返回 false
const checkPermission = (path) => {
    const { user } = useUserStore()
    return user.role.rights.includes(path)
}

export default router
```



### 1.4 引入状态管理 pinia

安装：*npm i pinia*

使用：

store/useRouterStore.js

```js
import {defineStore} from 'pinia'
import { ref } from 'vue'

export const useRouterStore = defineStore("router", () => {
    const isGetterRouter = ref(false) //全局可用
    const changeRouter = (value) => {
        isGetterRouter.value = value
    }
    return {
        isGetterRouter,
        changeRouter
    }
})
```



### 1.5 引入 pinia 持久化插件

安装：*npm i pinia-plugin-persistedstate*

引入：main.js

```js
import { createPinia } from 'pinia'
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'

const pinia = createPinia()
pinia.use(piniaPluginPersistedstate)
```

开启持久化：useUserStore.js - `{ persist: true }`

```js
import {defineStore} from 'pinia'
import { ref } from 'vue'

// defineStore 第三个参与用于 pinia 持久化插件配置
export const useUserStore = defineStore("user", () => {
    const user = ref({}) //全局可用
    const changeUser = (value) => {
        user.value = value
    }
    return {
        user,
        changeUser
    }
}, {
    persist: true //持久化设置
})
```

触发持久化 store 时，会将公共状态数据 user 存储在 localStorage 中。



### 1.6 登陆&退出登陆

Login.vue

```vue
<template>
  <div>
    login
    <button @click="handleLoginAdmin">登陆-admin</button>
    <button @click="handleLoginTeacher">登陆-teacher</button>
  </div>
</template>

<script setup>
import { useRouter } from "vue-router"
import { useUserStore } from "../store/useUserStore"

const router = useRouter()

const userStore = useUserStore()
const handleLoginAdmin = () => {
  // pinia 默认存在在内存，同步写入本地存储
  userStore.changeUser({
    id: 1,
    username: "admin",
    password: "123",
    role: {
      roleName: "管理员",
      roleType: 1,
      rights: [
        "/index",
        "/user-manage",
        "/user-manage/list",
        "/right-manage",
        "/right-manage/rolelist",
        "/right-manage/rightlist",
        "/lab-manage",
        "/lab-manage/lablist",
        "/lab-manage/addlab",
        "/book-manage",
        "/book-manage/auditlist",
        "/book-manage/booklist",
      ],
    },
  })
  // 跳转到首页
  router.push("/")
}

const handleLoginTeacher = () => {
  userStore.changeUser({
    id: 2,
    username: "jerry",
    password: "123",
    role: {
      roleName: "教师",
      roleType: 2,
      rights: ["/index", "/book-manage", "/book-manage/auditlist", "/book-manage/booklist"],
    },
  })
  // 跳转到首页
  router.push("/")
}
</script>
```

MainBox.vue

```vue
<template>
    <div>
        mainbox
        <button @click="handleExit">退出</button>
        <router-view></router-view>
    </div>
</template>

<script setup>
import { useRouter } from 'vue-router';
import { useUserStore } from '../store/useUserStore';
import { useRouterStore } from '../store/useRouterStore';

const router = useRouter()
const { changeUser } = useUserStore()
const { changeRouter } = useRouterStore()

const handleExit = () => {
    changeUser({}) //清空
    changeRouter(false) //重置路由权限的获取状态
    router.push('/login') //跳转到登陆
}
</script>
```



### 1.7 登录页 - 引入element-plus

组件库：[element-Plus](https://element-plus.org/zh-CN/)

安装：*npm i element-plus*

* 写样式记得安装 sass： *npm i sass*

引入:

```js
import { createApp } from 'vue'
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'
import App from './App.vue'

const app = createApp(App)

app.use(ElementPlus)
app.mount('#app')
```

Login.vue

```vue
<template>
  <vue-particles
    id="tsparticles"
    @particles-loaded="particlesLoaded"
    :options="tsparticlesConfig"
  />
  <div class="formContainer">
    <h3>智慧实验室平台管理系统</h3>
    <!-- el-form 中的 @submit.prevent 和 el-button 中的 native-type 可以让 button监听回车提交事件  -->
    <el-form
      ref="ruleFormRef"
      style="max-width: 600px"
      :model="ruleForm"
      :rules="rules"
      label-width="120px"
      class="ruleForm"
      status-icon
      @submit.prevent="submitForm(ruleFormRef)" 
    >
      <el-form-item label="用户名" prop="username">
        <el-input v-model="ruleForm.username" />
      </el-form-item>
      <el-form-item label="密码" prop="password">
        <el-input v-model="ruleForm.password" type="password" />
      </el-form-item>

      <el-form-item>
        <!-- <el-button type="primary" @click="submitForm(ruleFormRef)"> 登陆 </el-button> -->
        <el-button type="primary" native-type="submit"> 登陆 </el-button>
      </el-form-item>
    </el-form>
  </div>
</template>

<script setup>
import { useRouter } from "vue-router"
import { useUserStore } from "../store/useUserStore"
import { reactive, ref } from "vue"
import { tsparticlesConfig } from '../util/tsparticlesConfig'

const particlesLoaded = async container => {
    console.log("粒子库 Particles container loaded", container);
};

// ref 获取表单对象
const ruleFormRef = ref()
const ruleForm = reactive({
  username: "",
  password: "",
})
const rules = reactive({
  username: [{ required: true, message: "请输入用户名", trigger: "blur" }],
  password: [{ required: true, message: "请输入密码", trigger: "blur" }],
})

const router = useRouter()
const userStore = useUserStore()

// 登陆回调
const submitForm = async formEl => {
  if (!formEl) return
  await formEl.validate((valid, fields) => {
    if (valid) {
      // console.log('提交!', ruleForm)
      if (ruleForm.username === "admin") {
        handleLoginAdmin()
      } else {
        handleLoginTeacher()
      }
    } else {
      console.log("错误提交!", fields)
    }
  })
}

const handleLoginAdmin = () => {
  // pinia 默认存在在内存，同步写入本地存储
  userStore.changeUser({
    id: 1,
    username: "admin",
    password: "123",
    role: {
      roleName: "管理员",
      roleType: 1,
      rights: [
        "/index",
        "/user-manage",
        "/user-manage/list",
        "/right-manage",
        "/right-manage/rolelist",
        "/right-manage/rightlist",
        "/lab-manage",
        "/lab-manage/lablist",
        "/lab-manage/addlab",
        "/book-manage",
        "/book-manage/auditlist",
        "/book-manage/booklist",
      ],
    },
  })
  // 跳转到首页
  router.push("/")
}

const handleLoginTeacher = () => {
  userStore.changeUser({
    id: 2,
    username: "jerry",
    password: "123",
    role: {
      roleName: "教师",
      roleType: 2,
      rights: ["/index", "/book-manage", "/book-manage/auditlist", "/book-manage/booklist"],
    },
  })
  // 跳转到首页
  router.push("/")
}
</script>

<style lang="scss" scoped>
.formContainer {
  width: 500px;
  height: 300px;
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  color: yellow;
  text-shadow: 2px 2px 5px black;
  text-align: center;
  z-index: 100;
  .ruleForm {
    margin-top: 50px;
  }
  h3 {
    font-size: 35px;
  }
  :deep(.el-form-item__label) {
    color: white;
    font-weight: bold;
    font-size: 18px;
  }
}
</style>

```

### 1.8 引入粒子库 particles

`particles` 粒子库官网：https://particles.js.org/

![image-20260107183325381](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20260107183326943.png)



点击跳转 github 对应 vue3 文档：https://github.com/tsparticles/vue3

安装：*npm i @tsparticles/vue3*  和 *npm i tsparticles*



#### 1.8.1 使用默认粒子效果

main.js - 导入和使用

```js
import Particles from "@tsparticles/vue3";
import { loadFull } from "tsparticles";

createApp(App)
    .use(Particles, {
        init: async engine => {
            await loadFull(engine); 
            // await loadSlim(engine);
        },
    })
    .mount('#app')
```

Login.vue - 复制 github 说明文档中的 `<vue-particles ...>` 标签内容，放在 form 表单外即可。将 options 单独维护为 xxxConfig.js 文件进行导入。

```vue
<template>
  <vue-particles id="tsparticles" @particles-loaded="particlesLoaded" :options="tsparticlesConfig" />
</template>

<script setup>
import { tsparticlesConfig } from '../util/tsparticlesConfig'
const particlesLoaded = async container => {
    console.log("粒子库 Particles container loaded", container);
};
...
</script>
```

src/util/tsparticlesConfig.js

```js
export const tsparticlesConfig = {
    "autoPlay": true,
    "background": {
        "color": {
            "value": "#043564"
        },
        "image": "url('https://vincentgarreau.com/particles.js/assets/img/kbLd9vb_new.gif')",
        "position": "0 50%",
        "repeat": "no-repeat",
        "size": "60%",
        "opacity": 1
    },
    "backgroundMask": {
        "composite": "destination-out",
        "cover": {
            "opacity": 1,
            "color": {
                "value": ""
            }
        },
        "enable": false
    },
    "clear": true,
    "defaultThemes": {},
    "delay": 0,
    "fullScreen": {
        "enable": true,
        "zIndex": 0
    },
    "detectRetina": true,
    "duration": 0,
    "fpsLimit": 120,
    "interactivity": {
        "detectsOn": "window",
        "events": {
            "onClick": {
                "enable": true,
                "mode": "repulse"
            },
            "onDiv": {
                "selectors": [],
                "enable": false,
                "mode": [],
                "type": "circle"
            },
            "onHover": {
                "enable": false,
                "mode": [],
                "parallax": {
                    "enable": false,
                    "force": 2,
                    "smooth": 10
                }
            },
            "resize": {
                "delay": 0.5,
                "enable": true
            }
        },
        "modes": {
            "trail": {
                "delay": 1,
                "pauseOnStop": false,
                "quantity": 1
            },
            "attract": {
                "distance": 200,
                "duration": 0.4,
                "easing": "ease-out-quad",
                "factor": 1,
                "maxSpeed": 50,
                "speed": 1
            },
            "bounce": {
                "distance": 200
            },
            "bubble": {
                "distance": 200,
                "duration": 0.4,
                "mix": false,
                "divs": {
                    "distance": 200,
                    "duration": 0.4,
                    "mix": false,
                    "selectors": []
                }
            },
            "connect": {
                "distance": 80,
                "links": {
                    "opacity": 0.5
                },
                "radius": 60
            },
            "grab": {
                "distance": 100,
                "links": {
                    "blink": false,
                    "consent": false,
                    "opacity": 1
                }
            },
            "push": {
                "default": true,
                "groups": [],
                "quantity": 4
            },
            "remove": {
                "quantity": 2
            },
            "repulse": {
                "distance": 200,
                "duration": 0.4,
                "factor": 100,
                "speed": 1,
                "maxSpeed": 50,
                "easing": "ease-out-quad",
                "divs": {
                    "distance": 200,
                    "duration": 0.4,
                    "factor": 100,
                    "speed": 1,
                    "maxSpeed": 50,
                    "easing": "ease-out-quad",
                    "selectors": []
                }
            },
            "slow": {
                "factor": 3,
                "radius": 200
            },
            "particle": {
                "replaceCursor": false,
                "pauseOnStop": false,
                "stopDelay": 0
            },
            "light": {
                "area": {
                    "gradient": {
                        "start": {
                            "value": "#ffffff"
                        },
                        "stop": {
                            "value": "#000000"
                        }
                    },
                    "radius": 1000
                },
                "shadow": {
                    "color": {
                        "value": "#000000"
                    },
                    "length": 2000
                }
            }
        }
    },
    "manualParticles": [],
    "particles": {
        "bounce": {
            "horizontal": {
                "value": 1
            },
            "vertical": {
                "value": 1
            }
        },
        "collisions": {
            "absorb": {
                "speed": 2
            },
            "bounce": {
                "horizontal": {
                    "value": 1
                },
                "vertical": {
                    "value": 1
                }
            },
            "enable": false,
            "maxSpeed": 50,
            "mode": "bounce",
            "overlap": {
                "enable": true,
                "retries": 0
            }
        },
        "color": {
            "value": "#ffffff",
            "animation": {
                "h": {
                    "count": 0,
                    "enable": false,
                    "speed": 1,
                    "decay": 0,
                    "delay": 0,
                    "sync": true,
                    "offset": 0
                },
                "s": {
                    "count": 0,
                    "enable": false,
                    "speed": 1,
                    "decay": 0,
                    "delay": 0,
                    "sync": true,
                    "offset": 0
                },
                "l": {
                    "count": 0,
                    "enable": false,
                    "speed": 1,
                    "decay": 0,
                    "delay": 0,
                    "sync": true,
                    "offset": 0
                }
            }
        },
        "effect": {
            "close": true,
            "fill": true,
            "options": {},
            "type": []
        },
        "groups": {},
        "move": {
            "angle": {
                "offset": 0,
                "value": 90
            },
            "attract": {
                "distance": 200,
                "enable": false,
                "rotate": {
                    "x": 3000,
                    "y": 3000
                }
            },
            "center": {
                "x": 50,
                "y": 50,
                "mode": "percent",
                "radius": 0
            },
            "decay": 0,
            "distance": {},
            "direction": "left",
            "drift": 0,
            "enable": true,
            "gravity": {
                "acceleration": 9.81,
                "enable": false,
                "inverse": false,
                "maxSpeed": 50
            },
            "path": {
                "clamp": true,
                "delay": {
                    "value": 0
                },
                "enable": false,
                "options": {}
            },
            "outModes": {
                "default": "out",
                "bottom": "out",
                "left": "out",
                "right": "out",
                "top": "out"
            },
            "random": false,
            "size": false,
            "speed": 6,
            "spin": {
                "acceleration": 0,
                "enable": false
            },
            "straight": true,
            "trail": {
                "enable": false,
                "length": 10,
                "fill": {}
            },
            "vibrate": false,
            "warp": false
        },
        "number": {
            "density": {
                "enable": false,
                "width": 1920,
                "height": 1080
            },
            "limit": {
                "mode": "delete",
                "value": 0
            },
            "value": 100
        },
        "opacity": {
            "value": 0.5,
            "animation": {
                "count": 0,
                "enable": false,
                "speed": 2,
                "decay": 0,
                "delay": 0,
                "sync": false,
                "mode": "auto",
                "startValue": "random",
                "destroy": "none"
            }
        },
        "reduceDuplicates": false,
        "shadow": {
            "blur": 0,
            "color": {
                "value": "#000"
            },
            "enable": false,
            "offset": {
                "x": 0,
                "y": 0
            }
        },
        "shape": {
            "close": true,
            "fill": true,
            "options": {
                "star": {
                    "sides": 5
                }
            },
            "type": "star"
        },
        "size": {
            "value": {
                "min": 1,
                "max": 4
            },
            "animation": {
                "count": 0,
                "enable": false,
                "speed": 5,
                "decay": 0,
                "delay": 0,
                "sync": false,
                "mode": "auto",
                "startValue": "random",
                "destroy": "none"
            }
        },
        "stroke": {
            "width": 0
        },
        "zIndex": {
            "value": 0,
            "opacityRate": 1,
            "sizeRate": 1,
            "velocityRate": 1
        },
        "destroy": {
            "bounds": {},
            "mode": "none",
            "split": {
                "count": 1,
                "factor": {
                    "value": 3
                },
                "rate": {
                    "value": {
                        "min": 4,
                        "max": 9
                    }
                },
                "sizeOffset": true,
                "particles": {}
            }
        },
        "roll": {
            "darken": {
                "enable": false,
                "value": 0
            },
            "enable": false,
            "enlighten": {
                "enable": false,
                "value": 0
            },
            "mode": "vertical",
            "speed": 25
        },
        "tilt": {
            "value": 0,
            "animation": {
                "enable": false,
                "speed": 0,
                "decay": 0,
                "sync": false
            },
            "direction": "clockwise",
            "enable": false
        },
        "twinkle": {
            "lines": {
                "enable": false,
                "frequency": 0.05,
                "opacity": 1
            },
            "particles": {
                "enable": false,
                "frequency": 0.05,
                "opacity": 1
            }
        },
        "wobble": {
            "distance": 5,
            "enable": false,
            "speed": {
                "angle": 50,
                "move": 10
            }
        },
        "life": {
            "count": 0,
            "delay": {
                "value": 0,
                "sync": false
            },
            "duration": {
                "value": 0,
                "sync": false
            }
        },
        "rotate": {
            "value": 0,
            "animation": {
                "enable": false,
                "speed": 0,
                "decay": 0,
                "sync": false
            },
            "direction": "clockwise",
            "path": false
        },
        "orbit": {
            "animation": {
                "count": 0,
                "enable": false,
                "speed": 1,
                "decay": 0,
                "delay": 0,
                "sync": false
            },
            "enable": false,
            "opacity": 1,
            "rotation": {
                "value": 45
            },
            "width": 1
        },
        "links": {
            "blink": false,
            "color": {
                "value": "#fff"
            },
            "consent": false,
            "distance": 100,
            "enable": false,
            "frequency": 1,
            "opacity": 1,
            "shadow": {
                "blur": 5,
                "color": {
                    "value": "#000"
                },
                "enable": false
            },
            "triangles": {
                "enable": false,
                "frequency": 1
            },
            "width": 1,
            "warp": false
        },
        "repulse": {
            "value": 0,
            "enabled": false,
            "distance": 1,
            "duration": 1,
            "factor": 1,
            "speed": 1
        }
    },
    "pauseOnBlur": true,
    "pauseOnOutsideViewport": true,
    "responsive": [],
    "smooth": false,
    "style": {},
    "themes": [],
    "zLayers": 100,
    "key": "nyancat2",
    "name": "Nyan Cat 2",
    "motion": {
        "disable": false,
        "reduce": {
            "factor": 4,
            "value": true
        }
    }
}
```



#### 1.8.2 使用其他粒子效果

从 `particles` 粒子库官网：https://particles.js.org/

跳转到 

![image-20260107195418831](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20260107195420149.png)

![image-20260107185216663](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20260107185218276.png)

拷贝其配置内容，替换掉 src/util/tsparticlesConfig.js 即可。

* 其中修改背景图，在属性 background - image 中修改，图片文件放在 public/bg.jpg 目录下

```js
export const tsparticlesConfig = {
    "autoPlay": true,
    "background": {
        "color": {
            "value": "#043564"
        },
        "image": "url('./bg.jpg')",  //指定图片，直接引用就是放在 public 下
        "position": "center",   //定位到中心
        "repeat": "no-repeat",
        "size": "cover",    //覆盖铺满
        "opacity": 1,
        "attachment": "fixed"  //不随窗口滚动
    },
    ...
```



### 1.9 布局

目录

```
src/
  components/
    MainBox/
      SideMenu.vue
      TopHeader.vue
  views/
    MainBox.vue
```

MainBox.vue - 涉及布局组件 `Container`

```vue
<template>
  <div>
    <el-container style="height: 100vh">
      <!-- 侧边栏 Aside -->
      <SideMenu></SideMenu>
      <el-container direction="vertical">
        <!-- 顶部 Header -->
        <TopHeader></TopHeader>
        <el-main>
          <!-- 美观的默认滚动条 - 最好使用它包裹一下 -->
          <el-scrollbar>
            <router-view></router-view>
          </el-scrollbar>
        </el-main>
      </el-container>
    </el-container>
  </div>
</template>

<script setup>
import SideMenu from "../components/MainBox/SideMenu.vue"
import TopHeader from "../components/MainBox/TopHeader.vue"
</script>
```

SideMenu.vue

```vue
<template>
  <el-aside width="200px">
    sidemenu
  </el-aside>
</template>
```

TopHeader.vue - 主要支持标题、欢迎语、用户名显示，以及退出 或 跳转个人中心等

```vue
<template>
  <el-header>
    topHeader
    <button @click="handleExit">退出</button>
  </el-header>
</template>

<script setup>
import { useRouter } from "vue-router"
import { useUserStore } from "../../store/useUserStore"
import { useRouterStore } from "../../store/useRouterStore"

const router = useRouter()
const { changeUser } = useUserStore()
const { changeRouter } = useRouterStore()

const handleExit = () => {
  changeUser({}) //清空
  changeRouter(false) //重置路由权限的获取状态
  router.push("/login") //跳转到登陆
}
</script>
```





