

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=light>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Jerry(姜源)">
  <meta name="keywords" content="Java,Html,CSS,JavaScript,Python,C,Linux,shell编程经验分享、技术总结、心得体会">
  
    <meta name="description" content="01-Spring 概述1. 什么是spring?Spring 是个java企业级应用的开源开发框架。Spring主要用来开发Java应用，但是有些扩展是针对构建J2EE平台的web应用。Spring 框架目标是简化Java企业级应用开发，并通过POJO为基础的编程模型促进良好的编程习惯。 2. 使用Spring框架的好处是什么？  轻量：Spring 是轻量的，基本的版本大约2MB。  控制反转">
<meta property="og:type" content="article">
<meta property="og:title" content="10-Spring框架">
<meta property="og:url" content="https://janycode.github.io/2017/05/02/20_%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/01_%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/10-Spring%E6%A1%86%E6%9E%B6/index.html">
<meta property="og:site_name" content="姜源の云笔记">
<meta property="og:description" content="01-Spring 概述1. 什么是spring?Spring 是个java企业级应用的开源开发框架。Spring主要用来开发Java应用，但是有些扩展是针对构建J2EE平台的web应用。Spring 框架目标是简化Java企业级应用开发，并通过POJO为基础的编程模型促进良好的编程习惯。 2. 使用Spring框架的好处是什么？  轻量：Spring 是轻量的，基本的版本大约2MB。  控制反转">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20200722090737.png">
<meta property="article:published_time" content="2017-05-02T11:20:02.000Z">
<meta property="article:modified_time" content="2024-11-07T05:50:38.771Z">
<meta property="article:author" content="Jerry(姜源)">
<meta property="article:tag" content="面试题">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20200722090737.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>10-Spring框架 - 姜源の云笔记</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"janycode.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":50,"cursorChar":"|","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"bfff735c897eb60ea49b735096b20e47","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 50vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>姜源の云笔记</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tools/">
                <i class="iconfont icon-slack-fill"></i>
                工具
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://yuancodes.github.io/">
                <i class="iconfont icon-notebook"></i>
                Docsify
              </a>
            </li>
          
        
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="10-Spring框架"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Jerry(姜源)
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2017-05-02 19:20" pubdate>
          星期二, 2017/05/02 19:20:02
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          9.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          80 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">10-Spring框架</h1>
            
            <div class="markdown-body">
              
              <h3 id="01-Spring-概述"><a href="#01-Spring-概述" class="headerlink" title="01-Spring 概述"></a>01-Spring 概述</h3><h4 id="1-什么是spring"><a href="#1-什么是spring" class="headerlink" title="1. 什么是spring?"></a>1. 什么是spring?</h4><p>Spring 是个java企业级应用的开源开发框架。Spring主要用来开发Java应用，但是有些扩展是针对构建J2EE平台的web应用。Spring 框架目标是简化Java企业级应用开发，并通过<code>POJO</code>为基础的编程模型促进良好的编程习惯。</p>
<h4 id="2-使用Spring框架的好处是什么？"><a href="#2-使用Spring框架的好处是什么？" class="headerlink" title="2. 使用Spring框架的好处是什么？"></a>2. 使用Spring框架的好处是什么？</h4><p>  <code>轻量</code>：Spring 是轻量的，基本的版本大约2MB。<br>  <code>控制反转</code>：Spring通过控制反转实现了松散耦合，对象们给出它们的依赖，而不是创建或查找依赖的对象们。<br>  <code>面向切面的编程(AOP)</code>：Spring支持面向切面的编程，并且把应用业务逻辑和系统服务分开。<br>  <code>容器</code>：Spring 包含并管理应用中对象的生命周期和配置。<br>  <code>MVC框架</code>：Spring的 WEB 框架是个精心设计的框架，是Web框架的一个很好的替代品。<br>  <code>事务管理</code>：Spring 提供一个持续的事务管理接口，可以扩展到上至本地事务下至全局事务（JTA）。<br>  <code>异常处理</code>：Spring 提供方便的API把具体技术相关的异常（比如由JDBC，Hibernate or JDO抛出的）转化为一致的unchecked 异常。</p>
<h4 id="3-Spring由哪些模块组成"><a href="#3-Spring由哪些模块组成" class="headerlink" title="3. Spring由哪些模块组成?"></a>3. Spring由哪些模块组成?</h4><p>  以下是Spring 框架的基本模块：</p>
<ul>
<li>Bean module</li>
<li>Context module</li>
<li>Expression Language module</li>
<li>JDBC module</li>
<li>ORM module</li>
<li>OXM module</li>
<li>Java Messaging Service(JMS) module</li>
<li>Transaction module</li>
<li>Web module</li>
<li>Web-Servlet module</li>
<li>Web-Struts module</li>
<li>Web-Portlet module</li>
</ul>
<h4 id="4-核心容器（应用上下文-模块"><a href="#4-核心容器（应用上下文-模块" class="headerlink" title="4. 核心容器（应用上下文) 模块"></a>4. 核心容器（应用上下文) 模块</h4><p>  这是基本的Spring模块，提供spring 框架的基础功能，<code>BeanFactory</code> 是 任何以 spring 为基础的应用的核心。Spring 框架建立在此模块之上，它使Spring成为一个容器。</p>
<h4 id="5-BeanFactory-–-BeanFactory-实现举例"><a href="#5-BeanFactory-–-BeanFactory-实现举例" class="headerlink" title="5. BeanFactory – BeanFactory 实现举例"></a>5. BeanFactory – BeanFactory 实现举例</h4><p>  Bean 工厂是工厂模式的一个实现，提供了<code>控制反转功能</code>，<em>用来把应用的配置和依赖从正真的应用代码中分离</em>。</p>
<p>最常用的 BeanFactory 实现是 <code>XmlBeanFactory</code> 类。</p>
<h4 id="6-XMLBeanFactory"><a href="#6-XMLBeanFactory" class="headerlink" title="6. XMLBeanFactory"></a>6. XMLBeanFactory</h4><p>  最常用的就是 org.springframework.beans.factory.xml.XmlBeanFactory ，它<code>根据XML文件中的定义加载beans</code>。该容器从 XML 文件读取配置元数据并用它去创建一个完全配置的系统或应用。</p>
<h4 id="7-解释AOP模块"><a href="#7-解释AOP模块" class="headerlink" title="7. 解释AOP模块"></a>7. 解释AOP模块</h4><p>  AOP模块用于发给我们的Spring应用做面向切面的开发， 很多支持由<code>AOP联盟提供</code>，这样就确保了Spring和其他AOP框架的共通性。这个模块将元数据编程引入Spring。</p>
<h4 id="8-解释JDBC抽象和DAO模块"><a href="#8-解释JDBC抽象和DAO模块" class="headerlink" title="8. 解释JDBC抽象和DAO模块"></a>8. 解释JDBC抽象和DAO模块</h4><p>  通过使用JDBC抽象和DAO模块，保证数据库代码的简洁，并能避免数据库资源错误关闭导致的问题，它在各种不同的数据库的错误信息之上，提供了一个统一的异常访问层。它还利用Spring的AOP 模块给Spring应用中的对象提供事务管理服务。</p>
<h4 id="9-解释对象-x2F-关系映射集成模块"><a href="#9-解释对象-x2F-关系映射集成模块" class="headerlink" title="9. 解释对象&#x2F;关系映射集成模块"></a>9. 解释对象&#x2F;关系映射集成模块</h4><p>  Spring 通过提供ORM模块，支持我们在直接JDBC之上使用一个对象&#x2F;关系映射映射(ORM)工具，Spring 支持集成主流的ORM框架，如Hiberate,JDO和 iBATIS SQL Maps。Spring的事务管理同样支持以上所有ORM框架及JDBC。</p>
<h4 id="10-解释WEB-模块"><a href="#10-解释WEB-模块" class="headerlink" title="10. 解释WEB 模块"></a>10. 解释WEB 模块</h4><p>Spring的WEB模块是构建在application context 模块基础之上，提供一个适合web应用的上下文。这个模块也包括支持多种面向web的任务，如透明地处理多个文件上传请求和程序级请求参数的绑定到你的业务对象。它也有对Jakarta Struts的支持。</p>
<h4 id="11-Spring配置文件"><a href="#11-Spring配置文件" class="headerlink" title="11. Spring配置文件"></a>11. Spring配置文件</h4><p>Spring配置文件是个XML 文件，这个文件包含了类信息，描述了如何配置它们，以及如何相互调用。</p>
<h4 id="12-什么是Spring-IOC-容器？"><a href="#12-什么是Spring-IOC-容器？" class="headerlink" title="12. 什么是Spring IOC 容器？"></a>12. 什么是Spring IOC 容器？</h4><p>Spring IOC 负责创建对象，管理对象（通过依赖注入（DI），装配对象，配置对象，并且管理这些对象的整个生命周期。</p>
<h4 id="13-IOC的优点是什么？"><a href="#13-IOC的优点是什么？" class="headerlink" title="13. IOC的优点是什么？"></a>13. IOC的优点是什么？</h4><p>IOC 或 依赖注入把应用的代码量降到最低。它使应用容易测试，单元测试不再需要单例和JNDI查找机制。最小的代价和最小的侵入性使松散耦合得以实现。IOC容器支持加载服务时的饿汉式初始化和懒加载。</p>
<h4 id="14-ApplicationContext通常的实现是什么"><a href="#14-ApplicationContext通常的实现是什么" class="headerlink" title="14. ApplicationContext通常的实现是什么?"></a>14. ApplicationContext通常的实现是什么?</h4><p>FileSystemXmlApplicationContext ：此容器从一个XML文件中加载beans的定义，XML Bean 配置文件的全路径名必须提供给它的构造函数。<br>ClassPathXmlApplicationContext：此容器也从一个XML文件中加载beans的定义，这里，你需要正确设置classpath因为这个容器将在classpath里找bean配置。<br>WebXmlApplicationContext：此容器加载一个XML文件，此文件定义了一个WEB应用的所有bean。</p>
<h4 id="15-Bean-工厂和-Application-contexts-有什么区别？"><a href="#15-Bean-工厂和-Application-contexts-有什么区别？" class="headerlink" title="15. Bean 工厂和 Application contexts 有什么区别？"></a>15. Bean 工厂和 Application contexts 有什么区别？</h4><p>Application contexts提供一种方法处理文本消息，一个通常的做法是加载文件资源（比如镜像），它们可以向注册为监听器的bean发布事件。另外，在容器或容器内的对象上执行的那些不得不由bean工厂以程序化方式处理的操作，可以在Application contexts中以声明的方式处理。Application contexts实现了MessageSource接口，该接口的实现以可插拔的方式提供获取本地化消息的方法。</p>
<h4 id="16-一个Spring的应用看起来象什么？"><a href="#16-一个Spring的应用看起来象什么？" class="headerlink" title="16. 一个Spring的应用看起来象什么？"></a>16. 一个Spring的应用看起来象什么？</h4><p>一个定义了一些功能的接口。<br>这实现包括属性，它的Setter ， getter 方法和函数等。<br>Spring AOP。<br>Spring 的XML 配置文件。<br>使用以上功能的客户端程序。<br>依赖注入</p>
<h4 id="17-什么是Spring的依赖注入？"><a href="#17-什么是Spring的依赖注入？" class="headerlink" title="17. 什么是Spring的依赖注入？"></a>17. 什么是Spring的依赖注入？</h4><p>依赖注入，是IOC的一个方面，是个通常的概念，它有多种解释。这概念是说你不用创建对象，而只需要描述它如何被创建。你不在代码里直接组装你的组件和服务，但是要在配置文件里描述哪些组件需要哪些服务，之后一个容器（IOC容器）负责把他们组装起来。</p>
<h4 id="18-有哪些不同类型的IOC（依赖注入）方式？"><a href="#18-有哪些不同类型的IOC（依赖注入）方式？" class="headerlink" title="18. 有哪些不同类型的IOC（依赖注入）方式？"></a>18. 有哪些不同类型的IOC（依赖注入）方式？</h4><p>构造器依赖注入：构造器依赖注入通过容器触发一个类的构造器来实现的，该类有一系列参数，每个参数代表一个对其他类的依赖。<br>Setter方法注入：Setter方法注入是容器通过调用无参构造器或无参static工厂 方法实例化bean之后，调用该bean的setter方法，即实现了基于setter的依赖注入。</p>
<h4 id="19-哪种依赖注入方式你建议使用，构造器注入，还是-Setter方法注入？"><a href="#19-哪种依赖注入方式你建议使用，构造器注入，还是-Setter方法注入？" class="headerlink" title="19. 哪种依赖注入方式你建议使用，构造器注入，还是 Setter方法注入？"></a>19. 哪种依赖注入方式你建议使用，构造器注入，还是 Setter方法注入？</h4><p>你两种依赖方式都可以使用，构造器注入和Setter方法注入。最好的解决方案是用构造器参数实现强制依赖，setter方法实现可选依赖。</p>
<h3 id="02-Spring-Beans"><a href="#02-Spring-Beans" class="headerlink" title="02-Spring Beans"></a>02-Spring Beans</h3><h4 id="20-什么是Spring-beans"><a href="#20-什么是Spring-beans" class="headerlink" title="20. 什么是Spring beans?"></a>20. 什么是Spring beans?</h4><p>Spring beans 是那些形成Spring应用的主干的java对象。它们被Spring IOC容器初始化，装配，和管理。这些beans通过容器中配置的元数据创建。比如，以XML文件中 的形式定义。</p>
<p>Spring 框架定义的beans都是单件beans。在bean tag中有个属性”singleton”，如果它被赋为TRUE，bean 就是单件，否则就是一个 prototype bean。默认是TRUE，所以所有在Spring框架中的beans 缺省都是单件。</p>
<h4 id="21-一个-Spring-Bean-定义-包含什么？"><a href="#21-一个-Spring-Bean-定义-包含什么？" class="headerlink" title="21. 一个 Spring Bean 定义 包含什么？"></a>21. 一个 Spring Bean 定义 包含什么？</h4><p>一个Spring Bean 的定义包含容器必知的所有配置元数据，包括如何创建一个bean，它的生命周期详情及它的依赖。</p>
<h4 id="22-如何给Spring-容器提供配置元数据"><a href="#22-如何给Spring-容器提供配置元数据" class="headerlink" title="22. 如何给Spring 容器提供配置元数据?"></a>22. 如何给Spring 容器提供配置元数据?</h4><p>这里有三种重要的方法给Spring 容器提供配置元数据。</p>
<p>XML配置文件。<br>基于注解的配置。<br>基于java的配置。</p>
<h4 id="23-你怎样定义类的作用域"><a href="#23-你怎样定义类的作用域" class="headerlink" title="23. 你怎样定义类的作用域?"></a>23. 你怎样定义类的作用域?</h4><p>当定义一个 在Spring里，我们还能给这个bean声明一个作用域。它可以通过bean 定义中的scope属性来定义。如，当Spring要在需要的时候每次生产一个新的bean实例，bean的scope属性被指定为prototype。另一方面，一个bean每次使用的时候必须返回同一个实例，这个bean的scope 属性 必须设为 singleton。</p>
<h4 id="24-解释Spring支持的几种bean的作用域。"><a href="#24-解释Spring支持的几种bean的作用域。" class="headerlink" title="24. 解释Spring支持的几种bean的作用域。"></a>24. 解释Spring支持的几种bean的作用域。</h4><p>Spring框架支持以下五种bean的作用域：</p>
<p>singleton : bean在每个Spring ioc 容器中只有一个实例。<br>prototype：一个bean的定义可以有多个实例。<br>request：每次http请求都会创建一个bean，该作用域仅在基于web的Spring ApplicationContext情形下有效。<br>session：在一个HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。<br>global-session：在一个全局的HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。<br>缺省的Spring bean 的作用域是Singleton.</p>
<h4 id="25-Spring框架中的单例bean是线程安全的吗"><a href="#25-Spring框架中的单例bean是线程安全的吗" class="headerlink" title="25. Spring框架中的单例bean是线程安全的吗?"></a>25. Spring框架中的单例bean是线程安全的吗?</h4><p>不，Spring框架中的单例bean不是线程安全的。</p>
<h4 id="26-解释Spring框架中bean的生命周期。"><a href="#26-解释Spring框架中bean的生命周期。" class="headerlink" title="26. 解释Spring框架中bean的生命周期。"></a>26. 解释Spring框架中bean的生命周期。</h4><p>Spring容器 从XML 文件中读取bean的定义，并实例化bean。<br>Spring根据bean的定义填充所有的属性。<br>如果bean实现了BeanNameAware 接口，Spring 传递bean 的ID 到 setBeanName方法。<br>如果Bean 实现了 BeanFactoryAware 接口， Spring传递beanfactory 给setBeanFactory 方法。<br>如果有任何与bean相关联的BeanPostProcessors，Spring会在postProcesserBeforeInitialization()方法内调用它们。<br>如果bean实现IntializingBean了，调用它的afterPropertySet方法，如果bean声明了初始化方法，调用此初始化方法。<br>如果有BeanPostProcessors 和bean 关联，这些bean的postProcessAfterInitialization() 方法将被调用。<br>如果bean实现了 DisposableBean，它将调用destroy()方法。</p>
<h4 id="27-哪些是重要的bean生命周期方法？-你能重载它们吗？"><a href="#27-哪些是重要的bean生命周期方法？-你能重载它们吗？" class="headerlink" title="27. 哪些是重要的bean生命周期方法？ 你能重载它们吗？"></a>27. 哪些是重要的bean生命周期方法？ 你能重载它们吗？</h4><p>有两个重要的bean 生命周期方法，第一个是setup ， 它是在容器加载bean的时候被调用。第二个方法是 teardown 它是在容器卸载类的时候被调用。</p>
<p>The bean 标签有两个重要的属性（init-method和destroy-method）。用它们你可以自己定制初始化和注销方法。它们也有相应的注解（@PostConstruct和@PreDestroy）。</p>
<h4 id="28-什么是Spring的内部bean？"><a href="#28-什么是Spring的内部bean？" class="headerlink" title="28. 什么是Spring的内部bean？"></a>28. 什么是Spring的内部bean？</h4><p>当一个bean仅被用作另一个bean的属性时，它能被声明为一个内部bean，为了定义inner bean，在Spring 的 基于XML的 配置元数据中，可以在 或 元素内使用 元素，内部bean通常是匿名的，它们的Scope一般是prototype。</p>
<h4 id="29-在-Spring中如何注入一个java集合？"><a href="#29-在-Spring中如何注入一个java集合？" class="headerlink" title="29. 在 Spring中如何注入一个java集合？"></a>29. 在 Spring中如何注入一个java集合？</h4><p>Spring提供以下几种集合的配置元素：</p>
<p>类型用于注入一列值，允许有相同的值。<br>类型用于注入一组值，不允许有相同的值。<br>类型用于注入一组键值对，键和值都可以为任意类型。<br>类型用于注入一组键值对，键和值都只能为String类型。</p>
<h4 id="30-什么是bean装配"><a href="#30-什么是bean装配" class="headerlink" title="30. 什么是bean装配?"></a>30. 什么是bean装配?</h4><p>装配，或bean 装配是指在Spring 容器中把bean组装到一起，前提是容器需要知道bean的依赖关系，如何通过依赖注入来把它们装配到一起。</p>
<h4 id="31-什么是bean的自动装配？"><a href="#31-什么是bean的自动装配？" class="headerlink" title="31. 什么是bean的自动装配？"></a>31. 什么是bean的自动装配？</h4><p>Spring 容器能够自动装配相互合作的bean，这意味着容器不需要和配置，能通过Bean工厂自动处理bean之间的协作。</p>
<h4 id="32-解释不同方式的自动装配-。"><a href="#32-解释不同方式的自动装配-。" class="headerlink" title="32. 解释不同方式的自动装配 。"></a>32. 解释不同方式的自动装配 。</h4><p>有五种自动装配的方式，可以用来指导Spring容器用自动装配方式来进行依赖注入。</p>
<p>no：默认的方式是不进行自动装配，通过显式设置ref 属性来进行装配。<br>byName：通过参数名 自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byname，之后容器试图匹配、装配和该bean的属性具有相同名字的bean。<br>byType:：通过参数类型自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byType，之后容器试图匹配、装配和该bean的属性具有相同类型的bean。如果有多个bean符合条件，则抛出错误。<br>constructor：这个方式类似于byType， 但是要提供给构造器参数，如果没有确定的带参数的构造器参数类型，将会抛出异常。<br>autodetect：首先尝试使用constructor来自动装配，如果无法工作，则使用byType方式。</p>
<h4 id="33-自动装配有哪些局限性"><a href="#33-自动装配有哪些局限性" class="headerlink" title="33. 自动装配有哪些局限性 ?"></a>33. 自动装配有哪些局限性 ?</h4><p>自动装配的局限性是：</p>
<p>重写： 你仍需用 和 配置来定义依赖，意味着总要重写自动装配。<br>基本数据类型：你不能自动装配简单的属性，如基本数据类型，String字符串，和类。<br>模糊特性：自动装配不如显式装配精确，如果有可能，建议使用显式装配。</p>
<h4 id="34-你可以在Spring中注入一个null-和一个空字符串吗？"><a href="#34-你可以在Spring中注入一个null-和一个空字符串吗？" class="headerlink" title="34. 你可以在Spring中注入一个null 和一个空字符串吗？"></a>34. 你可以在Spring中注入一个null 和一个空字符串吗？</h4><p>可以。</p>
<h3 id="03-Spring注解"><a href="#03-Spring注解" class="headerlink" title="03-Spring注解"></a>03-Spring注解</h3><h4 id="35-什么是基于Java的Spring注解配置-给一些注解的例子"><a href="#35-什么是基于Java的Spring注解配置-给一些注解的例子" class="headerlink" title="35. 什么是基于Java的Spring注解配置? 给一些注解的例子."></a>35. 什么是基于Java的Spring注解配置? 给一些注解的例子.</h4><p>基于Java的配置，允许你在少量的Java注解的帮助下，进行你的大部分Spring配置而非通过XML文件。</p>
<p>以@Configuration 注解为例，它用来标记类可以当做一个bean的定义，被Spring IOC容器使用。另一个例子是@Bean注解，它表示此方法将要返回一个对象，作为一个bean注册进Spring应用上下文。</p>
<h4 id="36-什么是基于注解的容器配置"><a href="#36-什么是基于注解的容器配置" class="headerlink" title="36. 什么是基于注解的容器配置?"></a>36. 什么是基于注解的容器配置?</h4><p>相对于XML文件，注解型的配置依赖于通过字节码元数据装配组件，而非尖括号的声明。</p>
<p>开发者通过在相应的类，方法或属性上使用注解的方式，直接组件类中进行配置，而不是使用xml表述bean的装配关系。</p>
<h4 id="37-怎样开启注解装配？"><a href="#37-怎样开启注解装配？" class="headerlink" title="37. 怎样开启注解装配？"></a>37. 怎样开启注解装配？</h4><p>注解装配在默认情况下是不开启的，为了使用注解装配，我们必须在Spring配置文件中配置 <a href="context:annotation-config/">context:annotation-config/</a>元素。</p>
<h4 id="38-Required-注解"><a href="#38-Required-注解" class="headerlink" title="38. @Required 注解"></a>38. @Required 注解</h4><p>这个注解表明bean的属性必须在配置的时候设置，通过一个bean定义的显式的属性值或通过自动装配，若@Required注解的bean属性未被设置，容器将抛出BeanInitializationException。</p>
<h4 id="39-Autowired-注解"><a href="#39-Autowired-注解" class="headerlink" title="39. @Autowired 注解"></a>39. @Autowired 注解</h4><p>@Autowired 注解提供了更细粒度的控制，包括在何处以及如何完成自动装配。它的用法和@Required一样，修饰setter方法、构造器、属性或者具有任意名称和&#x2F;或多个参数的PN方法。</p>
<h4 id="40-Qualifier-注解"><a href="#40-Qualifier-注解" class="headerlink" title="40. @Qualifier 注解"></a>40. @Qualifier 注解</h4><p>当有多个相同类型的bean却只有一个需要自动装配时，将@Qualifier 注解和@Autowire 注解结合使用以消除这种混淆，指定需要装配的确切的bean。</p>
<h3 id="04-Spring数据访问"><a href="#04-Spring数据访问" class="headerlink" title="04-Spring数据访问"></a>04-Spring数据访问</h3><h4 id="41-在Spring框架中如何更有效地使用JDBC"><a href="#41-在Spring框架中如何更有效地使用JDBC" class="headerlink" title="41. 在Spring框架中如何更有效地使用JDBC?"></a>41. 在Spring框架中如何更有效地使用JDBC?</h4><p>使用SpringJDBC 框架，资源管理和错误处理的代价都会被减轻。所以开发者只需写statements 和 queries从数据存取数据，JDBC也可以在Spring框架提供的模板类的帮助下更有效地被使用，这个模板叫JdbcTemplate （例子见这里here）</p>
<h4 id="42-JdbcTemplate"><a href="#42-JdbcTemplate" class="headerlink" title="42. JdbcTemplate"></a>42. JdbcTemplate</h4><p>JdbcTemplate 类提供了很多便利的方法解决诸如把数据库数据转变成基本数据类型或对象，执行写好的或可调用的数据库操作语句，提供自定义的数据错误处理。</p>
<h4 id="43-Spring对DAO的支持"><a href="#43-Spring对DAO的支持" class="headerlink" title="43. Spring对DAO的支持"></a>43. Spring对DAO的支持</h4><p>Spring对数据访问对象（DAO）的支持旨在简化它和数据访问技术如JDBC，Hibernate or JDO 结合使用。这使我们可以方便切换持久层。编码时也不用担心会捕获每种技术特有的异常。</p>
<h4 id="44-使用Spring通过什么方式访问Hibernate"><a href="#44-使用Spring通过什么方式访问Hibernate" class="headerlink" title="44. 使用Spring通过什么方式访问Hibernate?"></a>44. 使用Spring通过什么方式访问Hibernate?</h4><p>在Spring中有两种方式访问Hibernate：</p>
<p>控制反转 Hibernate Template和 Callback。<br>继承 HibernateDAOSupport提供一个AOP 拦截器。</p>
<h4 id="45-Spring支持的ORM"><a href="#45-Spring支持的ORM" class="headerlink" title="45. Spring支持的ORM"></a>45. Spring支持的ORM</h4><p>Spring支持以下ORM：</p>
<p>Hibernate<br>iBatis<br>JPA (Java Persistence API)<br>TopLink<br>JDO (Java Data Objects)<br>OJB</p>
<h4 id="46-如何通过HibernateDaoSupport将Spring和Hibernate结合起来？"><a href="#46-如何通过HibernateDaoSupport将Spring和Hibernate结合起来？" class="headerlink" title="46. 如何通过HibernateDaoSupport将Spring和Hibernate结合起来？"></a>46. 如何通过HibernateDaoSupport将Spring和Hibernate结合起来？</h4><p>用Spring的 SessionFactory 调用 LocalSessionFactory。集成过程分三步：</p>
<p>配置the Hibernate SessionFactory。<br>继承HibernateDaoSupport实现一个DAO。<br>在AOP支持的事务中装配。</p>
<h4 id="47-Spring支持的事务管理类型"><a href="#47-Spring支持的事务管理类型" class="headerlink" title="47. Spring支持的事务管理类型"></a>47. Spring支持的事务管理类型</h4><p>Spring支持两种类型的事务管理：</p>
<p>编程式事务管理：这意味你通过编程的方式管理事务，给你带来极大的灵活性，但是难维护。<br>声明式事务管理：这意味着你可以将业务代码和事务管理分离，你只需用注解和XML配置来管理事务。</p>
<h4 id="48-Spring框架的事务管理有哪些优点？"><a href="#48-Spring框架的事务管理有哪些优点？" class="headerlink" title="48. Spring框架的事务管理有哪些优点？"></a>48. Spring框架的事务管理有哪些优点？</h4><p>它为不同的事务API 如 JTA，JDBC，Hibernate，JPA 和JDO，提供一个不变的编程模式。<br>它为编程式事务管理提供了一套简单的API而不是一些复杂的事务API如<br>它支持声明式事务管理。<br>它和Spring各种数据访问抽象层很好得集成。</p>
<h4 id="49-你更倾向用那种事务管理类型？"><a href="#49-你更倾向用那种事务管理类型？" class="headerlink" title="49. 你更倾向用那种事务管理类型？"></a>49. 你更倾向用那种事务管理类型？</h4><p>大多数Spring框架的用户选择声明式事务管理，因为它对应用代码的影响最小，因此更符合一个无侵入的轻量级容器的思想。声明式事务管理要优于编程式事务管理，虽然比编程式事务管理（这种方式允许你通过代码控制事务）少了一点灵活性。</p>
<h3 id="05-Spring面向切面编程（AOP）"><a href="#05-Spring面向切面编程（AOP）" class="headerlink" title="05-Spring面向切面编程（AOP）"></a>05-Spring面向切面编程（AOP）</h3><h4 id="50-解释AOP"><a href="#50-解释AOP" class="headerlink" title="50. 解释AOP"></a>50. 解释AOP</h4><p>面向切面的编程，或AOP， 是一种编程技术，允许程序模块化横向切割关注点，或横切典型的责任划分，如日志和事务管理。</p>
<h4 id="51-Aspect-切面"><a href="#51-Aspect-切面" class="headerlink" title="51. Aspect 切面"></a>51. Aspect 切面</h4><p>AOP核心就是切面，它将多个类的通用行为封装成可重用的模块，该模块含有一组API提供横切功能。比如，一个日志模块可以被称作日志的AOP切面。根据需求的不同，一个应用程序可以有若干切面。在Spring AOP中，切面通过带有@Aspect注解的类实现。</p>
<h4 id="52-在Spring-AOP-中，关注点和横切关注的区别是什么？"><a href="#52-在Spring-AOP-中，关注点和横切关注的区别是什么？" class="headerlink" title="52. 在Spring AOP 中，关注点和横切关注的区别是什么？"></a>52. 在Spring AOP 中，关注点和横切关注的区别是什么？</h4><p>关注点是应用中一个模块的行为，一个关注点可能会被定义成一个我们想实现的一个功能。<br>横切关注点是一个关注点，此关注点是整个应用都会使用的功能，并影响整个应用，比如日志，安全和数据传输，几乎应用的每个模块都需要的功能。因此这些都属于横切关注点。</p>
<h4 id="53-连接点"><a href="#53-连接点" class="headerlink" title="53. 连接点"></a>53. 连接点</h4><p>连接点代表一个应用程序的某个位置，在这个位置我们可以插入一个AOP切面，它实际上是个应用程序执行Spring AOP的位置。</p>
<h4 id="54-通知"><a href="#54-通知" class="headerlink" title="54. 通知"></a>54. 通知</h4><p>通知是个在方法执行前或执行后要做的动作，实际上是程序执行时要通过SpringAOP框架触发的代码段。</p>
<p>Spring切面可以应用五种类型的通知：</p>
<p>before：前置通知，在一个方法执行前被调用。<br>after: 在方法执行之后调用的通知，无论方法执行是否成功。<br>after-returning: 仅当方法成功完成后执行的通知。<br>after-throwing: 在方法抛出异常退出时执行的通知。<br>around: 在方法执行之前和之后调用的通知。</p>
<h4 id="55-切点"><a href="#55-切点" class="headerlink" title="55. 切点"></a>55. 切点</h4><p>切入点是一个或一组连接点，通知将在这些位置执行。可以通过表达式或匹配的方式指明切入点。</p>
<h4 id="56-什么是引入"><a href="#56-什么是引入" class="headerlink" title="56. 什么是引入?"></a>56. 什么是引入?</h4><p>引入允许我们在已存在的类中增加新的方法和属性。</p>
<h4 id="57-什么是目标对象"><a href="#57-什么是目标对象" class="headerlink" title="57. 什么是目标对象?"></a>57. 什么是目标对象?</h4><p>被一个或者多个切面所通知的对象。它通常是一个代理对象。也指被通知（advised）对象。</p>
<h4 id="58-什么是代理"><a href="#58-什么是代理" class="headerlink" title="58. 什么是代理?"></a>58. 什么是代理?</h4><p>代理是通知目标对象后创建的对象。从客户端的角度看，代理对象和目标对象是一样的。</p>
<h4 id="59-有几种不同类型的自动代理？"><a href="#59-有几种不同类型的自动代理？" class="headerlink" title="59. 有几种不同类型的自动代理？"></a>59. 有几种不同类型的自动代理？</h4><p>BeanNameAutoProxyCreator</p>
<p>DefaultAdvisorAutoProxyCreator</p>
<p>Metadata autoproxying</p>
<h4 id="60-什么是织入。什么是织入应用的不同点？"><a href="#60-什么是织入。什么是织入应用的不同点？" class="headerlink" title="60. 什么是织入。什么是织入应用的不同点？"></a>60. 什么是织入。什么是织入应用的不同点？</h4><p>织入是将切面和到其他应用类型或对象连接或创建一个被通知对象的过程。</p>
<p>织入可以在编译时，加载时，或运行时完成。</p>
<h4 id="61-解释基于XML-Schema方式的切面实现。"><a href="#61-解释基于XML-Schema方式的切面实现。" class="headerlink" title="61. 解释基于XML Schema方式的切面实现。"></a>61. 解释基于XML Schema方式的切面实现。</h4><p>在这种情况下，切面由常规类以及基于XML的配置实现。</p>
<h4 id="62-解释基于注解的切面实现"><a href="#62-解释基于注解的切面实现" class="headerlink" title="62. 解释基于注解的切面实现"></a>62. 解释基于注解的切面实现</h4><p>在这种情况下(基于@AspectJ的实现)，涉及到的切面声明的风格与带有java5标注的普通java类一致。</p>
<h3 id="06-Spring-的MVC"><a href="#06-Spring-的MVC" class="headerlink" title="06-Spring 的MVC"></a>06-Spring 的MVC</h3><h4 id="63-什么是Spring的MVC框架？"><a href="#63-什么是Spring的MVC框架？" class="headerlink" title="63. 什么是Spring的MVC框架？"></a>63. 什么是Spring的MVC框架？</h4><p>Spring 配备构建Web 应用的全功能MVC框架。Spring可以很便捷地和其他MVC框架集成，如Struts，Spring 的MVC框架用控制反转把业务对象和控制逻辑清晰地隔离。它也允许以声明的方式把请求参数和业务对象绑定。</p>
<h4 id="64-DispatcherServlet"><a href="#64-DispatcherServlet" class="headerlink" title="64. DispatcherServlet"></a>64. DispatcherServlet</h4><p>Spring的MVC框架是围绕DispatcherServlet来设计的，它用来处理所有的HTTP请求和响应。</p>
<h4 id="65-WebApplicationContext"><a href="#65-WebApplicationContext" class="headerlink" title="65. WebApplicationContext"></a>65. WebApplicationContext</h4><p>WebApplicationContext 继承了ApplicationContext 并增加了一些WEB应用必备的特有功能，它不同于一般的ApplicationContext ，因为它能处理主题，并找到被关联的servlet。</p>
<h4 id="66-什么是Spring-MVC框架的控制器？"><a href="#66-什么是Spring-MVC框架的控制器？" class="headerlink" title="66. 什么是Spring MVC框架的控制器？"></a>66. 什么是Spring MVC框架的控制器？</h4><p>控制器提供一个访问应用程序的行为，此行为通常通过服务接口实现。控制器解析用户输入并将其转换为一个由视图呈现给用户的模型。Spring用一个非常抽象的方式实现了一个控制层，允许用户创建多种用途的控制器。</p>
<h4 id="67-Controller-注解"><a href="#67-Controller-注解" class="headerlink" title="67. @Controller 注解"></a>67. @Controller 注解</h4><p>该注解表明该类扮演控制器的角色，Spring不需要你继承任何其他控制器基类或引用Servlet API。</p>
<h4 id="68-RequestMapping-注解"><a href="#68-RequestMapping-注解" class="headerlink" title="68. @RequestMapping 注解"></a>68. @RequestMapping 注解</h4><p>该注解是用来映射一个URL到一个类或一个特定的方处理法上。</p>
<h4 id="69-过滤器和拦截器的区别"><a href="#69-过滤器和拦截器的区别" class="headerlink" title="69. 过滤器和拦截器的区别"></a>69. 过滤器和拦截器的区别</h4><p>①拦截器是基于java的反射机制的，而过滤器是基于函数回调。<br>②拦截器不依赖与servlet容器，过滤器依赖与servlet容器。<br>③拦截器只能对action请求起作用，而过滤器则可以对几乎所有的请求起作用。<br>④拦截器可以访问action上下文、值栈里的对象，而过滤器不能访问。<br>⑤在action的生命周期中，拦截器可以多次被调用，而过滤器只能在容器初始化时被调用一次。</p>
<p>⑥拦截器可以获取IOC容器中的各个bean，而过滤器就不行，这点很重要，在拦截器里注入一个service，可以调用业务逻辑。</p>
<p>⑦过滤器和拦截器触发时机不一样:过滤器是在请求进入容器后，但请求进入servlet之前进行预处理的。请求结束返回也是，是在servlet处理完后，返回给前端之前。</p>
<p>⑧拦截器是spring容器的，是spring支持的。</p>
<p><img src="https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20200722090737.png" srcset="/img/loading.gif" lazyload alt="image-20200722090735621"></p>

              
            </div>
            <hr/>
            <div>
              <div>
  <img src="https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20241112163319.png" srcset="/img/loading.gif" lazyload>
</div>
<div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/20-%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/" class="category-chain-item">20_面试问题</a>
  
  
    <span>></span>
    
  <a href="/categories/20-%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/01-%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/" class="category-chain-item">01_技术问题</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">#面试题</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>10-Spring框架</div>
      <div>https://janycode.github.io/2017/05/02/20_面试问题/01_技术问题/10-Spring框架/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Jerry(姜源)</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2017年5月2日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 姜源">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2017/05/02/20_%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/01_%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/02-JavaSE%E5%85%A8%E9%9D%A2%E6%80%BB%E7%BB%93/" title="02-JavaSE全面总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">02-JavaSE全面总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2017/05/02/20_%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/01_%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/03-Thread%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98/" title="03-Thread并发问题">
                        <span class="hidden-mobile">03-Thread并发问题</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="SOHUCS" sid='https://janycode.github.io/2017/05/02/20_%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/01_%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/10-Spring%E6%A1%86%E6%9E%B6/'></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#SOHUCS', function() {
      Fluid.utils.createScript("https://changyan.sohu.com/upload/changyan.js", function() {
        window.changyan.api.config({"appid":"cyw5OHIcO","appkey":"fea3446b3df4b3f129f34da4cbc87e51"})
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://simple.blog.csdn.net" target="_blank" rel="nofollow noopener"><span>CSDN</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/janycode" target="_blank" rel="nofollow noopener"><span>GitHub</span></a> <i class="iconfont icon-love"></i> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量(PV) 
        <span id="busuanzi_value_site_pv"></span>
         次，
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数(UV) 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

<!-- live2d 动画 -->
<script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>
<script>
    L2Dwidget.init({
        "model": {
            jsonPath: "https://unpkg.com/live2d-widget-model-haruto@1.0.5/assets/haruto.model.json",
            "scale": 1
        },
        "display": {
            "position": "right",
            "width": 100,
            "height": 200,
            "hOffset": 35,
            "vOffset": -85
        },
        "mobile": {
            "show": false,
            "scale": 0.1
        },
        "react": {
            "opacityDefault": 0.75,
            "opacityOnHover": 0.2
        }
    });
</script>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <!-- Baidu Analytics -->
    <script defer>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?bfff735c897eb60ea49b735096b20e47";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
